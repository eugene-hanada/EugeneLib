\hypertarget{_dx12_command_list_8h_source}{}\doxysection{Dx12\+Command\+List.\+h}
\label{_dx12_command_list_8h_source}\index{C:/Users/eugen/Desktop/Programming/EugeneLib/Source/Graphics/DirectX12/Dx12CommandList.h@{C:/Users/eugen/Desktop/Programming/EugeneLib/Source/Graphics/DirectX12/Dx12CommandList.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <wrl.h>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}../../../Include/Graphics/CommandList.h"{}}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{keyword}{struct }ID3D12Device;}
\DoxyCodeLine{6 \textcolor{keyword}{struct }ID3D12CommandAllocator;}
\DoxyCodeLine{7 \textcolor{keyword}{struct }ID3D12GraphicsCommandList;}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 }
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }Eugene}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13     \textcolor{keyword}{class }GpuResource;}
\DoxyCodeLine{14     \textcolor{keyword}{class }\mbox{\hyperlink{class_eugene_1_1_dx12_command_list}{Dx12CommandList}} :}
\DoxyCodeLine{15         \textcolor{keyword}{public} \mbox{\hyperlink{class_eugene_1_1_command_list}{CommandList}}}
\DoxyCodeLine{16     \{}
\DoxyCodeLine{17         \textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{18         \textcolor{keyword}{using }ComPtr = Microsoft::WRL::ComPtr<T>;}
\DoxyCodeLine{19     \textcolor{keyword}{public}:}
\DoxyCodeLine{20         \mbox{\hyperlink{class_eugene_1_1_dx12_command_list}{Dx12CommandList}}(ID3D12Device* device);}
\DoxyCodeLine{21         \textcolor{keywordtype}{void}* GetCommandList(\textcolor{keywordtype}{void}) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{22     \textcolor{keyword}{private}:}
\DoxyCodeLine{23 }
\DoxyCodeLine{24         \textcolor{comment}{// 開始処理}}
\DoxyCodeLine{25         \textcolor{keywordtype}{void} Begin(\textcolor{keywordtype}{void}) \textcolor{keyword}{final};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27         \textcolor{comment}{// 終了処理}}
\DoxyCodeLine{28         \textcolor{keywordtype}{void} End(\textcolor{keywordtype}{void}) \textcolor{keyword}{final};}
\DoxyCodeLine{29 }
\DoxyCodeLine{30         \textcolor{comment}{// グラフィックスパイプラインをセットする}}
\DoxyCodeLine{31         \textcolor{keywordtype}{void} SetGraphicsPipeline(\mbox{\hyperlink{class_eugene_1_1_graphics_pipeline}{GraphicsPipeline}}\& gpipeline) \textcolor{keyword}{final};}
\DoxyCodeLine{32 }
\DoxyCodeLine{33         \textcolor{comment}{// プリミティブタイプをセットする}}
\DoxyCodeLine{34         \textcolor{keywordtype}{void} SetPrimitiveType(PrimitiveType type) \textcolor{keyword}{final};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36         \textcolor{comment}{// シザーレクトをセットする}}
\DoxyCodeLine{37         \textcolor{keywordtype}{void} SetScissorrect(\textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2I}}\& leftTop, \textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2I}}\& rightBottom) \textcolor{keyword}{final};}
\DoxyCodeLine{38 }
\DoxyCodeLine{39         \textcolor{comment}{// ビューポートをセットする}}
\DoxyCodeLine{40         \textcolor{keywordtype}{void} SetViewPort(\textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2}}\& leftTop, \textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2}}\& size, \textcolor{keywordtype}{float} depthMin = 0.0f, \textcolor{keywordtype}{float} depthMax = 1.0f);}
\DoxyCodeLine{41 }
\DoxyCodeLine{42         \textcolor{comment}{// 頂点ビューをセットする}}
\DoxyCodeLine{43         \textcolor{keywordtype}{void} SetVertexView(\mbox{\hyperlink{class_eugene_1_1_vertex_view}{VertexView}}\& view) \textcolor{keyword}{final};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45         \textcolor{comment}{// インデックスビューをセットする}}
\DoxyCodeLine{46         \textcolor{keywordtype}{void} SetIndexView(\mbox{\hyperlink{class_eugene_1_1_index_view}{IndexView}}\& view) \textcolor{keyword}{final};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48         \textcolor{comment}{// シェーダリソースセット系 //}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50         \textcolor{comment}{// 指定のパラメータインデックスに指定のビューのインデックスを先頭にセットする}}
\DoxyCodeLine{51         \textcolor{keywordtype}{void} SetShaderResourceView(\mbox{\hyperlink{class_eugene_1_1_shader_resource_views}{ShaderResourceViews}}\& views, std::uint64\_t viewsIdx, std::uint64\_t paramIdx) \textcolor{keyword}{final};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \textcolor{comment}{// 指定のパラメータインデックスに指定のサンプラービューのインデックスを先頭にセットする}}
\DoxyCodeLine{54         \textcolor{keywordtype}{void} SetSamplerView(\mbox{\hyperlink{class_eugene_1_1_sampler_views}{SamplerViews}}\& views, std::uint64\_t viewsIdx, std::uint64\_t paramIdx) \textcolor{keyword}{final};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{comment}{// 描画系 //}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58         \textcolor{comment}{// 描画}}
\DoxyCodeLine{59         \textcolor{keywordtype}{void} Draw(std::uint32\_t vertexCount, std::uint32\_t instanceCount = 1) \textcolor{keyword}{final};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61         \textcolor{comment}{// インデックス付きで描画}}
\DoxyCodeLine{62         \textcolor{keywordtype}{void} DrawIndexed(std::uint32\_t indexCount, std::uint32\_t instanceNum = 1, std::uint32\_t offset = 0) \textcolor{keyword}{final};}
\DoxyCodeLine{63 }
\DoxyCodeLine{64         \textcolor{comment}{// レンダーターゲットセット系 //}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66         \textcolor{comment}{// 指定のインデックスのビューをセットする}}
\DoxyCodeLine{67         \textcolor{keywordtype}{void} SetRenderTarget(\mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& views, std::uint64\_t idx = 0) \textcolor{keyword}{final};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69         \textcolor{comment}{// 指定の範囲のインデックスのビューをセットする}}
\DoxyCodeLine{70         \textcolor{keywordtype}{void} SetRenderTarget(\mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& views, std::uint64\_t startIdx, std::uint64\_t endIdx) \textcolor{keyword}{final};}
\DoxyCodeLine{71 }
\DoxyCodeLine{72         \textcolor{comment}{// ビューにあるすべてをセットする}}
\DoxyCodeLine{73         \textcolor{keywordtype}{void} SetRenderTarget(\mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& views) \textcolor{keyword}{final};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75         \textcolor{comment}{// 指定のインデックスのデプスとレンダーターゲットのビューをセットする}}
\DoxyCodeLine{76         \textcolor{keywordtype}{void} SetRenderTarget(\mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& renderTargetViews, \mbox{\hyperlink{class_eugene_1_1_depth_stencil_views}{DepthStencilViews}}\& depthViews, std::uint64\_t rtViewsIdx = 0, std::uint64\_t dsViewsIdx = 0)\textcolor{keyword}{final};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78         \textcolor{comment}{// クリア系 //}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80         \textcolor{comment}{// }}
\DoxyCodeLine{81         \textcolor{keywordtype}{void} ClearRenderTarget(\mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& views, std::span<float, 4> color, std::uint64\_t idx = 0) \textcolor{keyword}{final};}
\DoxyCodeLine{82         \textcolor{keywordtype}{void} ClearRenderTarget(\mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& views, std::span<float, 4> color) \textcolor{keyword}{final};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         \textcolor{keywordtype}{void} ClearDepth(\mbox{\hyperlink{class_eugene_1_1_depth_stencil_views}{DepthStencilViews}}\& views, \textcolor{keywordtype}{float} clearValue = 1.0f, std::uint64\_t idx = 0) \textcolor{keyword}{final};}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \textcolor{comment}{// バリア遷移系 //}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88         \textcolor{comment}{// レンダーターゲットを開始状態にする}}
\DoxyCodeLine{89         \textcolor{keywordtype}{void} TransitionRenderTargetBegin(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& resource) \textcolor{keyword}{final};}
\DoxyCodeLine{90 }
\DoxyCodeLine{91         \textcolor{comment}{// レンダーターゲットを終了状態にする(Commonとか)}}
\DoxyCodeLine{92         \textcolor{keywordtype}{void} TransitionRenderTargetEnd(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& resource) \textcolor{keyword}{final};}
\DoxyCodeLine{93 }
\DoxyCodeLine{94         \textcolor{comment}{// シェーダー使用状態にする}}
\DoxyCodeLine{95         \textcolor{keywordtype}{void} TransitionShaderResourceBegin(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& resource) \textcolor{keyword}{final};}
\DoxyCodeLine{96 }
\DoxyCodeLine{97         \textcolor{comment}{// シェーダー使用状態から終了する}}
\DoxyCodeLine{98         \textcolor{keywordtype}{void} TransitionShaderResourceEnd(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& resource) \textcolor{keyword}{final};}
\DoxyCodeLine{99 }
\DoxyCodeLine{100         \textcolor{comment}{// デプス使用状態にする}}
\DoxyCodeLine{101         \textcolor{keywordtype}{void} TransitionDepthBegin(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& resource) \textcolor{keyword}{final};}
\DoxyCodeLine{102 }
\DoxyCodeLine{103         \textcolor{comment}{// デプス使用状態から終了する}}
\DoxyCodeLine{104         \textcolor{keywordtype}{void} TransitionDepthEnd(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& resource) \textcolor{keyword}{final};}
\DoxyCodeLine{105 }
\DoxyCodeLine{106         \textcolor{comment}{// コピー系 //}}
\DoxyCodeLine{107 }
\DoxyCodeLine{108         \textcolor{keywordtype}{void} Copy(\mbox{\hyperlink{class_eugene_1_1_gpu_resource}{GpuResource}}\& destination, \mbox{\hyperlink{class_eugene_1_1_gpu_resource}{GpuResource}}\& source) \textcolor{keyword}{final};}
\DoxyCodeLine{109         \textcolor{keywordtype}{void} CopyTexture(\mbox{\hyperlink{class_eugene_1_1_gpu_resource}{GpuResource}}\& destination, \mbox{\hyperlink{class_eugene_1_1_gpu_resource}{GpuResource}}\& source) \textcolor{keyword}{final};}
\DoxyCodeLine{110 }
\DoxyCodeLine{111         \textcolor{keywordtype}{void} CopyTexture(\mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& dest, \mbox{\hyperlink{class_eugene_1_1_buffer_resource}{BufferResource}}\& src) \textcolor{keyword}{final};}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 \textcolor{preprocessor}{\#ifdef USE\_IMGUI}}
\DoxyCodeLine{114         \textcolor{keywordtype}{void} SetImguiCommand(ImDrawData* data, \mbox{\hyperlink{class_eugene_1_1_graphics}{Graphics}}\& graphics) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{115 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117         ComPtr< ID3D12CommandAllocator> cmdAllocator\_;}
\DoxyCodeLine{118         ComPtr< ID3D12GraphicsCommandList> cmdList\_;}
\DoxyCodeLine{119 }
\DoxyCodeLine{120     \};}
\DoxyCodeLine{121 \}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123 }
\DoxyCodeLine{124 }

\end{DoxyCode}
