\hypertarget{_dx12_graphics_8h_source}{}\doxysection{Dx12\+Graphics.\+h}
\label{_dx12_graphics_8h_source}\index{C:/Users/eugen/Desktop/Programming/EugeneLib/Source/Graphics/DirectX12/Dx12Graphics.h@{C:/Users/eugen/Desktop/Programming/EugeneLib/Source/Graphics/DirectX12/Dx12Graphics.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <wrl.h>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}../../../Include/Graphics/Graphics.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}../../../Include/Math/Vector2.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}../../../Include/Graphics/GraphicsCommon.h"{}}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{keyword}{struct }ID3D12Device;}
\DoxyCodeLine{10 \textcolor{keyword}{struct }IDXGIFactory6;}
\DoxyCodeLine{11 \textcolor{keyword}{struct }IDXGISwapChain4;}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{namespace }Eugene}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15     \textcolor{keyword}{class }\mbox{\hyperlink{class_eugene_1_1_dx12_graphics}{Dx12Graphics}} :}
\DoxyCodeLine{16         \textcolor{keyword}{public} \mbox{\hyperlink{class_eugene_1_1_graphics}{Graphics}}}
\DoxyCodeLine{17     \{}
\DoxyCodeLine{18     \textcolor{keyword}{public}:}
\DoxyCodeLine{19         \mbox{\hyperlink{class_eugene_1_1_dx12_graphics}{Dx12Graphics}}(HWND\& hwnd, \textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2}}\& size, \mbox{\hyperlink{class_eugene_1_1_gpu_engine}{GpuEngine}}*\& gpuEngine, std::uint32\_t bufferNum);}
\DoxyCodeLine{20         \mbox{\hyperlink{class_eugene_1_1_dx12_graphics}{\string~Dx12Graphics}}();}
\DoxyCodeLine{21     }
\DoxyCodeLine{22         }
\DoxyCodeLine{23     \textcolor{keyword}{private}:}
\DoxyCodeLine{24         \mbox{\hyperlink{class_eugene_1_1_gpu_engine}{GpuEngine}}* CreateGpuEngine(std::uint64\_t maxSize) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{25 }
\DoxyCodeLine{26         \mbox{\hyperlink{class_eugene_1_1_command_list}{CommandList}}* CreateCommandList(\textcolor{keywordtype}{void}) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{27         \mbox{\hyperlink{class_eugene_1_1_graphics_pipeline}{GraphicsPipeline}}* CreateGraphicsPipeline(}
\DoxyCodeLine{28             ShaderInputSpan layout,}
\DoxyCodeLine{29             ShaderTypePaisrSpan  shaders,}
\DoxyCodeLine{30             RenderTargetSpan rendertarges,}
\DoxyCodeLine{31             TopologyType topologyType = TopologyType::Triangle,}
\DoxyCodeLine{32             \textcolor{keywordtype}{bool} isCulling = \textcolor{keyword}{false},}
\DoxyCodeLine{33             ShaderLayoutSpan shaderLayout = ShaderLayoutSpan\{\},}
\DoxyCodeLine{34             SamplerSpan samplerLayout = SamplerSpan\{\}) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36         \mbox{\hyperlink{class_eugene_1_1_buffer_resource}{BufferResource}}* CreateUploadableBufferResource(std::uint64\_t size) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{37 }
\DoxyCodeLine{38         \mbox{\hyperlink{class_eugene_1_1_buffer_resource}{BufferResource}}* CreateBufferResource(std::uint64\_t size) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40         \mbox{\hyperlink{class_eugene_1_1_buffer_resource}{BufferResource}}* CreateBufferResource(\mbox{\hyperlink{class_eugene_1_1_image}{Image}}\& texture) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{41 }
\DoxyCodeLine{42         \mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}* CreateImageResource(\textcolor{keyword}{const} \mbox{\hyperlink{struct_eugene_1_1_texture_info}{TextureInfo}}\& formatData) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44         \mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}* CreateImageResource(\textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2I}}\& size, Format format, std::span<float, 4> clearColor) \textcolor{keyword}{final};}
\DoxyCodeLine{45 }
\DoxyCodeLine{46         \mbox{\hyperlink{class_eugene_1_1_shader_resource_views}{ShaderResourceViews}}* CreateShaderResourceViews(std::uint64\_t size) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48         \mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}* CreateRenderTargetViews(std::uint64\_t size, \textcolor{keywordtype}{bool} isShaderVisible) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50         \mbox{\hyperlink{class_eugene_1_1_depth_stencil_views}{DepthStencilViews}}* CreateDepthStencilViews(std::uint64\_t size) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52         \mbox{\hyperlink{class_eugene_1_1_vertex_view}{VertexView}}* CreateVertexView(std::uint64\_t size, std::uint64\_t vertexNum, \mbox{\hyperlink{class_eugene_1_1_buffer_resource}{BufferResource}}\& resource) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{53 }
\DoxyCodeLine{54         \mbox{\hyperlink{class_eugene_1_1_index_view}{IndexView}}* CreateIndexView(std::uint32\_t size, Format format, \mbox{\hyperlink{class_eugene_1_1_buffer_resource}{BufferResource}}\& resource) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{keywordtype}{void} CreateDevice(\textcolor{keywordtype}{void});}
\DoxyCodeLine{57 }
\DoxyCodeLine{58         \textcolor{keywordtype}{void} CreateSwapChain(HWND\& hwnd, \textcolor{keyword}{const} \mbox{\hyperlink{class_eugene_1_1_vector2_tmp}{Vector2}}\& size, \mbox{\hyperlink{class_eugene_1_1_gpu_engine}{GpuEngine}}*\& gpuEngine, std::uint32\_t bufferNum);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60         \textcolor{keywordtype}{void} CreateBackBuffers(std::uint64\_t bufferCount);}
\DoxyCodeLine{61 }
\DoxyCodeLine{62         \mbox{\hyperlink{class_eugene_1_1_image_resource}{ImageResource}}\& \mbox{\hyperlink{class_eugene_1_1_graphics_a18d59791c577c062650402040c98eb8f}{GetBackBufferResource}}(std::uint64\_t idx) \textcolor{keyword}{final};}
\DoxyCodeLine{63 }
\DoxyCodeLine{64         \mbox{\hyperlink{class_eugene_1_1_render_target_views}{RenderTargetViews}}\& GetViews(\textcolor{keywordtype}{void}) \textcolor{keyword}{final};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66         std::uint64\_t GetNowBackBufferIndex(\textcolor{keywordtype}{void}) \textcolor{keyword}{final};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         \textcolor{keywordtype}{void} Present(\textcolor{keywordtype}{void}) \textcolor{keyword}{final};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70         \mbox{\hyperlink{class_eugene_1_1_sampler}{Sampler}}* CreateSampler(\textcolor{keyword}{const} \mbox{\hyperlink{struct_eugene_1_1_sampler_layout}{SamplerLayout}}\& layout) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{71 }
\DoxyCodeLine{72         \mbox{\hyperlink{class_eugene_1_1_sampler_views}{SamplerViews}}* CreateSamplerViews(std::uint64\_t size) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{73 \textcolor{preprocessor}{\#ifdef USE\_IMGUI}}
\DoxyCodeLine{74         \textcolor{keywordtype}{void} ImguiNewFrame(\textcolor{keywordtype}{void}) \textcolor{keyword}{const} \textcolor{keyword}{final};}
\DoxyCodeLine{75 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         \textcolor{comment}{// dxgi}}
\DoxyCodeLine{78         Microsoft::WRL::ComPtr<IDXGIFactory6> dxgiFactory\_\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80         \textcolor{comment}{// DirectX12デバイス}}
\DoxyCodeLine{81         Microsoft::WRL::ComPtr<ID3D12Device> device\_\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{82 }
\DoxyCodeLine{83         \textcolor{comment}{// スワップチェイン}}
\DoxyCodeLine{84         Microsoft::WRL::ComPtr<IDXGISwapChain4> swapChain\_\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{85     }
\DoxyCodeLine{86         std::vector<std::unique\_ptr<ImageResource>> buffers\_;}
\DoxyCodeLine{87         std::unique\_ptr<RenderTargetViews> renderTargetViews\_;}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{preprocessor}{\#ifdef USE\_IMGUI}}
\DoxyCodeLine{90         std::unique\_ptr<ShaderResourceViews> srViews\_;}
\DoxyCodeLine{91         \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_eugene_1_1_dx12_command_list}{Dx12CommandList}};}
\DoxyCodeLine{92 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{93     \};}
\DoxyCodeLine{94 \}}

\end{DoxyCode}
